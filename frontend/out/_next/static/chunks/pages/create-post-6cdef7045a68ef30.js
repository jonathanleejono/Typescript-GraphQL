(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{7153:function(r,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-post",function(){return t(4676)}])},8124:function(r,n,t){"use strict";var e=t(5893),o=t(268),i=t(6211),u=t(4861),a=t(2175);t(7294);function l(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function c(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function s(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},e=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),e.forEach((function(n){c(r,n,t[n])}))}return r}function f(r,n){if(null==r)return{};var t,e,o=function(r,n){if(null==r)return{};var t,e,o={},i=Object.keys(r);for(e=0;e<i.length;e++)t=i[e],n.indexOf(t)>=0||(o[t]=r[t]);return o}(r,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(e=0;e<i.length;e++)t=i[e],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}function d(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,i=[],u=!0,a=!1;try{for(t=t.call(r);!(u=(e=t.next()).done)&&(i.push(e.value),!n||i.length!==n);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==t.return||t.return()}finally{if(a)throw o}}return i}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return l(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(r){var n=r.label,t=r.textarea,l=(r.size,f(r,["label","textarea","size"])),c=o.II;t&&(c=i.g);var h=d((0,a.U$)(l),2),y=h[0],p=h[1].error;return(0,e.jsxs)(u.NI,{isInvalid:!!p,children:[(0,e.jsx)(u.lX,{htmlFor:y.name,children:n}),(0,e.jsx)(c,s({},y,l,{id:y.name})),p?(0,e.jsx)(u.J1,{children:p}):null]})}},749:function(r,n,t){"use strict";t.d(n,{Z:function(){return b}});var e=t(5893),o=(t(7294),t(4051)),i=t.n(o),u=t(3725),a=t(3894),l=t(1664),c=t.n(l),s=t(7952),f=t(1163),d=t(6252);function h(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function y(r,n,t,e,o,i,u){try{var a=r[i](u),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(e,o)}function p(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,i=[],u=!0,a=!1;try{for(t=t.call(r);!(u=(e=t.next()).done)&&(i.push(e.value),!n||i.length!==n);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==t.return||t.return()}finally{if(a)throw o}}return i}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return h(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(r){r=null!==r?r:function(r){throw r}(new TypeError("Cannot destructure undefined")),(0,f.useRouter)();var n,t=p((0,s._y)(),2),o=t[0],l=t[1].loading,h=(0,d.x)(),v=(0,s.UE)({skip:!1}),m=v.data,b=null;return v.loading||(b=(null===m||void 0===m?void 0:m.me)?(0,e.jsxs)(u.kC,{align:"center",children:[(0,e.jsx)(c(),{href:"/create-post",children:(0,e.jsx)(a.zx,{mr:4,as:u.rU,variant:"outline",children:"Create Post"})}),(0,e.jsx)(u.xu,{mr:3,children:m.me.username}),(0,e.jsx)(a.zx,{onClick:(n=i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o();case 2:return r.next=4,h.resetStore();case 4:case"end":return r.stop()}}),r)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var i=n.apply(r,t);function u(r){y(i,e,o,u,a,"next",r)}function a(r){y(i,e,o,u,a,"throw",r)}u(void 0)}))}),isLoading:l,variant:"link",children:"Logout"})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c(),{href:"/login",children:(0,e.jsx)(u.rU,{color:"black",mr:2,children:"Login"})}),(0,e.jsx)(c(),{href:"/register",children:(0,e.jsx)(u.rU,{color:"black",mr:2,children:"Register"})})]})),(0,e.jsxs)(u.kC,{zIndex:1,position:"sticky",top:0,bg:"tomato",p:4,children:[(0,e.jsx)(c(),{href:"/",children:(0,e.jsx)(u.rU,{children:(0,e.jsx)(u.X6,{children:"Typescript GraphQL"})})}),(0,e.jsx)(u.xu,{ml:"auto",children:b})]})},m=t(6476),b=function(r){var n=r.children,t=r.variant;return(0,e.jsxs)("div",{children:[(0,e.jsx)(v,{}),(0,e.jsx)(m.Z,{variant:t,children:n})]})}},4676:function(r,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var e=t(4051),o=t.n(e),i=t(5893),u=t(3725),a=t(3894),l=t(2175),c=t(1163),s=t(7294),f=t(8124),d=t(749),h=t(7952);function y(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function p(r,n,t,e,o,i,u){try{var a=r[i](u),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(e,o)}function v(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,i=[],u=!0,a=!1;try{for(t=t.call(r);!(u=(e=t.next()).done)&&(i.push(e.value),!n||i.length!==n);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==t.return||t.return()}finally{if(a)throw o}}return i}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return y(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=(0,t(1201).C)({ssr:!1})((function(r){r=null!==r?r:function(r){throw r}(new TypeError("Cannot destructure undefined"));var n=(0,c.useRouter)();!function(){var r=(0,h.UE)(),n=r.data,t=r.loading,e=(0,c.useRouter)();(0,s.useEffect)((function(){t||(null===n||void 0===n?void 0:n.me)||e.replace("/login?next="+e.pathname)}))}();var t=v((0,h.u3)(),1)[0];return(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{variant:"small",children:(0,i.jsx)(l.J9,{initialValues:{title:"",text:""},onSubmit:function(){var r,e=(r=o().mark((function r(e){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t({variables:{input:e},update:function(r){r.evict({fieldName:"posts:{}"})}});case 2:r.sent.errors||n.push("/"),console.log(e);case 5:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,o){var i=r.apply(n,t);function u(r){p(i,e,o,u,a,"next",r)}function a(r){p(i,e,o,u,a,"throw",r)}u(void 0)}))});return function(r){return e.apply(this,arguments)}}(),children:function(r){var n=r.isSubmitting;return(0,i.jsxs)(l.l0,{children:[(0,i.jsx)(f.Z,{name:"title",placeholder:"title",label:"Title"}),(0,i.jsx)(u.xu,{mt:4,children:(0,i.jsx)(f.Z,{textarea:!0,name:"text",placeholder:"text...",label:"Body"})}),(0,i.jsx)(a.zx,{type:"submit",colorScheme:"teal",mt:4,isLoading:n,children:"Create Post"})]})}})})})}))}},function(r){r.O(0,[180,746,424,436,774,888,179],(function(){return n=7153,r(r.s=n);var n}));var n=r.O();_N_E=n}]);