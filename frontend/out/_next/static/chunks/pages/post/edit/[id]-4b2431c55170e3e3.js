(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{6802:function(r,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/edit/[id]",function(){return n(1131)}])},8124:function(r,t,n){"use strict";var e=n(5893),i=n(268),o=n(6211),u=n(4861),l=n(2175);n(7294);function a(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function c(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function s(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),e.forEach((function(t){c(r,t,n[t])}))}return r}function f(r,t){if(null==r)return{};var n,e,i=function(r,t){if(null==r)return{};var n,e,i={},o=Object.keys(r);for(e=0;e<o.length;e++)n=o[e],t.indexOf(n)>=0||(i[n]=r[n]);return i}(r,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(e=0;e<o.length;e++)n=o[e],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(i[n]=r[n])}return i}function d(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,i,o=[],u=!0,l=!1;try{for(n=n.call(r);!(u=(e=n.next()).done)&&(o.push(e.value),!t||o.length!==t);u=!0);}catch(a){l=!0,i=a}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return a(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(r){var t=r.label,n=r.textarea,a=(r.size,f(r,["label","textarea","size"])),c=i.II;n&&(c=o.g);var h=d((0,l.U$)(a),2),y=h[0],p=h[1].error;return(0,e.jsxs)(u.NI,{isInvalid:!!p,children:[(0,e.jsx)(u.lX,{htmlFor:y.name,children:t}),(0,e.jsx)(c,s({},y,a,{id:y.name})),p?(0,e.jsx)(u.J1,{children:p}):null]})}},749:function(r,t,n){"use strict";n.d(t,{Z:function(){return m}});var e=n(5893),i=(n(7294),n(4051)),o=n.n(i),u=n(3725),l=n(3894),a=n(1664),c=n.n(a),s=n(7952),f=n(1163),d=n(6252);function h(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function y(r,t,n,e,i,o,u){try{var l=r[o](u),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(e,i)}function p(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,i,o=[],u=!0,l=!1;try{for(n=n.call(r);!(u=(e=n.next()).done)&&(o.push(e.value),!t||o.length!==t);u=!0);}catch(a){l=!0,i=a}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return h(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(r){r=null!==r?r:function(r){throw r}(new TypeError("Cannot destructure undefined")),(0,f.useRouter)();var t,n=p((0,s._y)(),2),i=n[0],a=n[1].loading,h=(0,d.x)(),v=(0,s.UE)({skip:!1}),b=v.data,m=null;return v.loading||(m=(null===b||void 0===b?void 0:b.me)?(0,e.jsxs)(u.kC,{align:"center",children:[(0,e.jsx)(c(),{href:"/create-post",children:(0,e.jsx)(l.zx,{mr:4,as:u.rU,variant:"outline",children:"Create Post"})}),(0,e.jsx)(u.xu,{mr:3,children:b.me.username}),(0,e.jsx)(l.zx,{onClick:(t=o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i();case 2:return r.next=4,h.resetStore();case 4:case"end":return r.stop()}}),r)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function u(r){y(o,e,i,u,l,"next",r)}function l(r){y(o,e,i,u,l,"throw",r)}u(void 0)}))}),isLoading:a,variant:"link",children:"Logout"})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c(),{href:"/login",children:(0,e.jsx)(u.rU,{color:"black",mr:2,children:"Login"})}),(0,e.jsx)(c(),{href:"/register",children:(0,e.jsx)(u.rU,{color:"black",mr:2,children:"Register"})})]})),(0,e.jsxs)(u.kC,{zIndex:1,position:"sticky",top:0,bg:"tomato",p:4,children:[(0,e.jsx)(c(),{href:"/",children:(0,e.jsx)(u.rU,{children:(0,e.jsx)(u.X6,{children:"Typescript GraphQL"})})}),(0,e.jsx)(u.xu,{ml:"auto",children:m})]})},b=n(6476),m=function(r){var t=r.children,n=r.variant;return(0,e.jsxs)("div",{children:[(0,e.jsx)(v,{}),(0,e.jsx)(b.Z,{variant:n,children:t})]})}},1131:function(r,t,n){"use strict";n.r(t);var e=n(4051),i=n.n(e),o=n(5893),u=n(3725),l=n(3894),a=n(2175),c=n(1163),s=(n(7294),n(8124)),f=n(749),d=n(7952),h=n(921),y=n(1201);function p(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function v(r,t,n,e,i,o,u){try{var l=r[o](u),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(e,i)}function b(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function m(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),e.forEach((function(t){b(r,t,n[t])}))}return r}function x(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,i,o=[],u=!0,l=!1;try{for(n=n.call(r);!(u=(e=n.next()).done)&&(o.push(e.value),!t||o.length!==t);u=!0);}catch(a){l=!0,i=a}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return p(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=(0,y.C)({ssr:!1})((function(r){r=null!==r?r:function(r){throw r}(new TypeError("Cannot destructure undefined"));var t=(0,c.useRouter)(),n=(0,h.q)(),e=(0,d.Ss)({skip:-1===n,variables:{id:n}}),y=e.data,p=e.loading,b=x((0,d.Bq)(),1)[0];return p?(0,o.jsx)(f.Z,{children:(0,o.jsx)("div",{children:"loading..."})}):(null===y||void 0===y?void 0:y.post)?(0,o.jsx)("div",{children:(0,o.jsx)(f.Z,{variant:"small",children:(0,o.jsx)(a.J9,{initialValues:{title:y.post.title,text:y.post.text},onSubmit:function(){var r,e=(r=i().mark((function r(e){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b({variables:m({id:n},e)});case 2:r.sent.errors||t.push("/");case 4:case"end":return r.stop()}}),r)})),function(){var t=this,n=arguments;return new Promise((function(e,i){var o=r.apply(t,n);function u(r){v(o,e,i,u,l,"next",r)}function l(r){v(o,e,i,u,l,"throw",r)}u(void 0)}))});return function(r){return e.apply(this,arguments)}}(),children:function(r){var t=r.isSubmitting;return(0,o.jsxs)(a.l0,{children:[(0,o.jsx)(s.Z,{name:"title",placeholder:"title",label:"Title"}),(0,o.jsx)(u.xu,{mt:4,children:(0,o.jsx)(s.Z,{textarea:!0,name:"text",placeholder:"text...",label:"Body"})}),(0,o.jsx)(l.zx,{type:"submit",colorScheme:"teal",mt:4,isLoading:t,children:"Update Post"})]})}})})}):(0,o.jsx)(f.Z,{children:(0,o.jsx)(u.xu,{children:"could not find post"})})}))},921:function(r,t,n){"use strict";n.d(t,{q:function(){return i}});var e=n(1163),i=function(){var r=(0,e.useRouter)();return"string"===typeof r.query.id?parseInt(r.query.id):-1}}},function(r){r.O(0,[180,746,424,436,774,888,179],(function(){return t=6802,r(r.s=t);var t}));var t=r.O();_N_E=t}]);